<div class="w-full px-10 py-6 bg-white">

  <!-- HEADER -->
  <div class="flex items-center justify-between mb-6">
    <div>
      <h1 class="text-2xl font-semibold">
        {{ car?.brand }} {{ car?.model }}
      </h1>
      <p class="text-gray-500">
        {{ car?.licensePlate }}
      </p>
    </div>

    <button mat-stroked-button (click)="back()">
      <mat-icon>arrow_back</mat-icon>
      Back
    </button>
  </div>

  <!-- LOADING -->
  <div *ngIf="loading" class="flex justify-center py-20">
    <mat-spinner></mat-spinner>
  </div>

  <!-- CONTENT -->
  <div *ngIf="!loading && car">

    <!-- BASIC INFO -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
      <div>
        <span class="text-gray-500 text-sm">Brand</span>
        <div class="font-medium">{{ car.brand }}</div>
      </div>

      <div>
        <span class="text-gray-500 text-sm">Model</span>
        <div class="font-medium">{{ car.model }}</div>
      </div>

      <div>
        <span class="text-gray-500 text-sm">Type</span>
        <div class="font-medium">{{ car.type }}</div>
      </div>

      <div>
        <span class="text-gray-500 text-sm">Fuel</span>
        <div class="font-medium">{{ car.fuelType }}</div>
      </div>

      <div>
        <span class="text-gray-500 text-sm">Transmission</span>
        <div class="font-medium">{{ car.transmission }}</div>
      </div>

      <div>
        <span class="text-gray-500 text-sm">Daily Price</span>
        <div class="font-medium">{{ car.dailyPrice | currency }}</div>
      </div>
    </div>

    <!-- IMAGES -->
    <div class="mb-10" *ngIf="car.images?.length">
      <h2 class="text-lg font-semibold mb-4">Images</h2>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
        <img
          *ngFor="let img of car.images"
          [src]="img.imageUrl"
          class="rounded-lg object-cover h-40 w-full"
        />
      </div>
    </div>

    <!-- SERVICES -->
    <div class="mb-10">
      <h2 class="text-lg font-semibold mb-4">Services</h2>

      <table class="w-full border">
        <thead class="bg-gray-50">
          <tr>
            <th class="p-3 text-left">Type</th>
            <th class="p-3 text-left">Date</th>
            <th class="p-3 text-left">Mileage</th>
            <th class="p-3 text-left">Cost</th>
            <th class="p-3 text-left">Center</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let s of car.services" class="border-t">
            <td class="p-3">{{ s.serviceType }}</td>
            <td class="p-3">{{ s.serviceDate | date }}</td>
            <td class="p-3">{{ s.mileage }}</td>
            <td class="p-3">{{ s.cost | currency }}</td>
            <td class="p-3">{{ s.serviceCenter }}</td>
          </tr>

          <tr *ngIf="!car.services?.length">
            <td colspan="5" class="p-4 text-center text-gray-400">
              No services found
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- REGISTRATIONS -->
    <div>
      <h2 class="text-lg font-semibold mb-4">Registrations</h2>

      <table class="w-full border">
        <thead class="bg-gray-50">
          <tr>
            <th class="p-3 text-left">Number</th>
            <th class="p-3 text-left">Issued</th>
            <th class="p-3 text-left">Expiry</th>
            <th class="p-3 text-left">Cost</th>
            <th class="p-3 text-left">Insurance</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let r of car.registrations" class="border-t">
            <td class="p-3">{{ r.registrationNumber }}</td>
            <td class="p-3">{{ r.issuedDate | date }}</td>
            <td class="p-3">{{ r.expiryDate | date }}</td>
            <td class="p-3">{{ r.cost | currency }}</td>
            <td class="p-3">{{ r.insuranceCompany }}</td>
          </tr>

          <tr *ngIf="!car.registrations?.length">
            <td colspan="5" class="p-4 text-center text-gray-400">
              No registrations found
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>
